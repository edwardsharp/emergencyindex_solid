(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();const Me=(e,n)=>e===n,Ne=Symbol("solid-track"),J={equals:Me};let we=Te;const R=1,z=2,xe={owned:null,cleanups:null,context:null,owner:null},oe={};var T=null;let ce=null,A=null,j=null,B=null,se=0;function Z(e,n){const t=A,r=T,s=e.length===0,i=n===void 0?r:n,o=s?xe:{owned:null,cleanups:null,context:i?i.context:null,owner:i},l=s?e:()=>e(()=>N(()=>ie(o)));T=o,A=null;try{return q(l,!0)}finally{A=t,T=r}}function I(e,n){n=n?Object.assign({},J,n):J;const t={value:e,observers:null,observerSlots:null,comparator:n.equals||void 0},r=s=>(typeof s=="function"&&(s=s(t.value)),Ce(t,s));return[Se.bind(t),r]}function pe(e,n,t){const r=le(e,n,!0,R);G(r)}function V(e,n,t){const r=le(e,n,!1,R);G(r)}function ee(e,n,t){we=Xe;const r=le(e,n,!1,R);(!t||!t.render)&&(r.user=!0),B?B.push(r):G(r)}function D(e,n,t){t=t?Object.assign({},J,t):J;const r=le(e,n,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=t.equals||void 0,G(r),Se.bind(r)}function Ve(e){return e&&typeof e=="object"&&"then"in e}function De(e,n,t){let r,s,i;arguments.length===2&&typeof n=="object"||arguments.length===1?(r=!0,s=e,i=n||{}):(r=e,s=n,i=t||{});let o=null,l=oe,u=!1,a="initialValue"in i,c=typeof r=="function"&&D(r);const p=new Set,[d,_]=(i.storage||I)(i.initialValue),[g,y]=I(void 0),[$,f]=I(void 0,{equals:!1}),[m,w]=I(a?"ready":"unresolved");function x(C,b,S,E){return o===C&&(o=null,E!==void 0&&(a=!0),(C===l||b===l)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(E,{value:b})),l=oe,P(b,S)),b}function P(C,b){q(()=>{b===void 0&&_(()=>C),w(b!==void 0?"errored":a?"ready":"unresolved"),y(b);for(const S of p.keys())S.decrement();p.clear()},!1)}function v(){const C=We,b=d(),S=g();if(S!==void 0&&!o)throw S;return A&&!A.user&&C&&pe(()=>{$(),o&&(C.resolved||p.has(C)||(C.increment(),p.add(C)))}),b}function L(C=!0){if(C!==!1&&u)return;u=!1;const b=c?c():r;if(b==null||b===!1){x(o,N(d));return}const S=l!==oe?l:N(()=>s(b,{value:d(),refetching:C}));return Ve(S)?(o=S,u=!0,queueMicrotask(()=>u=!1),q(()=>{w(a?"refreshing":"pending"),f()},!1),S.then(E=>x(S,E,void 0,b),E=>x(S,void 0,Pe(E),b))):(x(o,S,void 0,b),S)}return Object.defineProperties(v,{state:{get:()=>m()},error:{get:()=>g()},loading:{get(){const C=m();return C==="pending"||C==="refreshing"}},latest:{get(){if(!a)return v();const C=g();if(C&&!o)throw C;return d()}}}),c?pe(()=>L(!1)):L(!1),[v,{refetch:L,mutate:_}]}function N(e){if(A===null)return e();const n=A;A=null;try{return e()}finally{A=n}}function Fe(e){ee(()=>N(e))}function ge(e){return T===null||(T.cleanups===null?T.cleanups=[e]:T.cleanups.push(e)),e}function Ke(e,n){const t=Symbol("context");return{id:t,Provider:Ge(t),defaultValue:e}}function Be(e){return T&&T.context&&T.context[e.id]!==void 0?T.context[e.id]:e.defaultValue}function Re(e){const n=D(e),t=D(()=>ae(n()));return t.toArray=()=>{const r=t();return Array.isArray(r)?r:r!=null?[r]:[]},t}let We;function Se(){if(this.sources&&this.state)if(this.state===R)G(this);else{const e=j;j=null,q(()=>ne(this),!1),j=e}if(A){const e=this.observers?this.observers.length:0;A.sources?(A.sources.push(this),A.sourceSlots.push(e)):(A.sources=[this],A.sourceSlots=[e]),this.observers?(this.observers.push(A),this.observerSlots.push(A.sources.length-1)):(this.observers=[A],this.observerSlots=[A.sources.length-1])}return this.value}function Ce(e,n,t){let r=e.value;return(!e.comparator||!e.comparator(r,n))&&(e.value=n,e.observers&&e.observers.length&&q(()=>{for(let s=0;s<e.observers.length;s+=1){const i=e.observers[s],o=ce&&ce.running;o&&ce.disposed.has(i),(o?!i.tState:!i.state)&&(i.pure?j.push(i):B.push(i),i.observers&&Oe(i)),o||(i.state=R)}if(j.length>1e6)throw j=[],new Error},!1)),n}function G(e){if(!e.fn)return;ie(e);const n=T,t=A,r=se;A=T=e,qe(e,e.value,r),A=t,T=n}function qe(e,n,t){let r;try{r=e.fn(n)}catch(s){return e.pure&&(e.state=R,e.owned&&e.owned.forEach(ie),e.owned=null),e.updatedAt=t+1,ke(s)}(!e.updatedAt||e.updatedAt<=t)&&(e.updatedAt!=null&&"observers"in e?Ce(e,r):e.value=r,e.updatedAt=t)}function le(e,n,t,r=R,s){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:n,owner:T,context:T?T.context:null,pure:t};return T===null||T!==xe&&(T.owned?T.owned.push(i):T.owned=[i]),i}function te(e){if(e.state===0)return;if(e.state===z)return ne(e);if(e.suspense&&N(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<se);)e.state&&n.push(e);for(let t=n.length-1;t>=0;t--)if(e=n[t],e.state===R)G(e);else if(e.state===z){const r=j;j=null,q(()=>ne(e,n[0]),!1),j=r}}function q(e,n){if(j)return e();let t=!1;n||(j=[]),B?t=!0:B=[],se++;try{const r=e();return Ue(t),r}catch(r){t||(B=null),j=null,ke(r)}}function Ue(e){if(j&&(Te(j),j=null),e)return;const n=B;B=null,n.length&&q(()=>we(n),!1)}function Te(e){for(let n=0;n<e.length;n++)te(e[n])}function Xe(e){let n,t=0;for(n=0;n<e.length;n++){const r=e[n];r.user?e[t++]=r:te(r)}for(n=0;n<t;n++)te(e[n])}function ne(e,n){e.state=0;for(let t=0;t<e.sources.length;t+=1){const r=e.sources[t];if(r.sources){const s=r.state;s===R?r!==n&&(!r.updatedAt||r.updatedAt<se)&&te(r):s===z&&ne(r,n)}}}function Oe(e){for(let n=0;n<e.observers.length;n+=1){const t=e.observers[n];t.state||(t.state=z,t.pure?j.push(t):B.push(t),t.observers&&Oe(t))}}function ie(e){let n;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),r=e.sourceSlots.pop(),s=t.observers;if(s&&s.length){const i=s.pop(),o=t.observerSlots.pop();r<s.length&&(i.sourceSlots[o]=r,s[r]=i,t.observerSlots[r]=o)}}if(e.owned){for(n=e.owned.length-1;n>=0;n--)ie(e.owned[n]);e.owned=null}if(e.cleanups){for(n=e.cleanups.length-1;n>=0;n--)e.cleanups[n]();e.cleanups=null}e.state=0}function Pe(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function ke(e,n=T){throw Pe(e)}function ae(e){if(typeof e=="function"&&!e.length)return ae(e());if(Array.isArray(e)){const n=[];for(let t=0;t<e.length;t++){const r=ae(e[t]);Array.isArray(r)?n.push.apply(n,r):n.push(r)}return n}return e}function Ge(e,n){return function(r){let s;return V(()=>s=N(()=>(T.context={...T.context,[e]:r.value},Re(()=>r.children))),void 0),s}}const He=Symbol("fallback");function $e(e){for(let n=0;n<e.length;n++)e[n]()}function Qe(e,n,t={}){let r=[],s=[],i=[],o=0,l=n.length>1?[]:null;return ge(()=>$e(i)),()=>{let u=e()||[],a,c;return u[Ne],N(()=>{let d=u.length,_,g,y,$,f,m,w,x,P;if(d===0)o!==0&&($e(i),i=[],r=[],s=[],o=0,l&&(l=[])),t.fallback&&(r=[He],s[0]=Z(v=>(i[0]=v,t.fallback())),o=1);else if(o===0){for(s=new Array(d),c=0;c<d;c++)r[c]=u[c],s[c]=Z(p);o=d}else{for(y=new Array(d),$=new Array(d),l&&(f=new Array(d)),m=0,w=Math.min(o,d);m<w&&r[m]===u[m];m++);for(w=o-1,x=d-1;w>=m&&x>=m&&r[w]===u[x];w--,x--)y[x]=s[w],$[x]=i[w],l&&(f[x]=l[w]);for(_=new Map,g=new Array(x+1),c=x;c>=m;c--)P=u[c],a=_.get(P),g[c]=a===void 0?-1:a,_.set(P,c);for(a=m;a<=w;a++)P=r[a],c=_.get(P),c!==void 0&&c!==-1?(y[c]=s[a],$[c]=i[a],l&&(f[c]=l[a]),c=g[c],_.set(P,c)):i[a]();for(c=m;c<d;c++)c in y?(s[c]=y[c],i[c]=$[c],l&&(l[c]=f[c],l[c](c))):s[c]=Z(p);s=s.slice(0,o=d),r=u.slice(0)}return s});function p(d){if(i[c]=d,l){const[_,g]=I(c);return l[c]=g,n(u[c],_)}return n(u[c])}}}function O(e,n){return N(()=>e(n||{}))}const Ye=e=>`Stale read from <${e}>.`;function Ae(e){const n="fallback"in e&&{fallback:()=>e.fallback};return D(Qe(()=>e.each,e.children,n||void 0))}function F(e){const n=e.keyed,t=D(()=>e.when,void 0,{equals:(r,s)=>n?r===s:!r==!s});return D(()=>{const r=t();if(r){const s=e.children;return typeof s=="function"&&s.length>0?N(()=>s(n?r:()=>{if(!N(t))throw Ye("Show");return e.when})):s}return e.fallback},void 0,void 0)}function Ze(e,n,t){let r=t.length,s=n.length,i=r,o=0,l=0,u=n[s-1].nextSibling,a=null;for(;o<s||l<i;){if(n[o]===t[l]){o++,l++;continue}for(;n[s-1]===t[i-1];)s--,i--;if(s===o){const c=i<r?l?t[l-1].nextSibling:t[i-l]:u;for(;l<i;)e.insertBefore(t[l++],c)}else if(i===l)for(;o<s;)(!a||!a.has(n[o]))&&n[o].remove(),o++;else if(n[o]===t[i-1]&&t[l]===n[s-1]){const c=n[--s].nextSibling;e.insertBefore(t[l++],n[o++].nextSibling),e.insertBefore(t[--i],c),n[s]=t[i]}else{if(!a){a=new Map;let p=l;for(;p<i;)a.set(t[p],p++)}const c=a.get(n[o]);if(c!=null)if(l<c&&c<i){let p=o,d=1,_;for(;++p<s&&p<i&&!((_=a.get(n[p]))==null||_!==c+d);)d++;if(d>c-l){const g=n[o];for(;l<c;)e.insertBefore(t[l++],g)}else e.replaceChild(t[l++],n[o++])}else o++;else n[o++].remove()}}}const me="_$DX_DELEGATE";function Je(e,n,t,r={}){let s;return Z(i=>{s=i,n===document?e():h(n,e(),n.firstChild?null:void 0,t)},r.owner),()=>{s(),n.textContent=""}}function k(e,n,t){let r;const s=()=>{const o=document.createElement("template");return o.innerHTML=e,t?o.content.firstChild.firstChild:o.content.firstChild},i=n?()=>N(()=>document.importNode(r||(r=s()),!0)):()=>(r||(r=s())).cloneNode(!0);return i.cloneNode=i,i}function Q(e,n=window.document){const t=n[me]||(n[me]=new Set);for(let r=0,s=e.length;r<s;r++){const i=e[r];t.has(i)||(t.add(i),n.addEventListener(i,ze))}}function M(e,n,t){t==null?e.removeAttribute(n):e.setAttribute(n,t)}function be(e,n){n==null?e.removeAttribute("class"):e.className=n}function Le(e,n,t){return N(()=>e(n,t))}function h(e,n,t,r){if(t!==void 0&&!r&&(r=[]),typeof n!="function")return re(e,n,r,t);V(s=>re(e,n(),s,t),r)}function ze(e){const n=`$$${e.type}`;let t=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==t&&Object.defineProperty(e,"target",{configurable:!0,value:t}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}});t;){const r=t[n];if(r&&!t.disabled){const s=t[`${n}Data`];if(s!==void 0?r.call(t,s,e):r.call(t,e),e.cancelBubble)return}t=t._$host||t.parentNode||t.host}}function re(e,n,t,r,s){for(;typeof t=="function";)t=t();if(n===t)return t;const i=typeof n,o=r!==void 0;if(e=o&&t[0]&&t[0].parentNode||e,i==="string"||i==="number")if(i==="number"&&(n=n.toString()),o){let l=t[0];l&&l.nodeType===3?l.data=n:l=document.createTextNode(n),t=X(e,t,r,l)}else t!==""&&typeof t=="string"?t=e.firstChild.data=n:t=e.textContent=n;else if(n==null||i==="boolean")t=X(e,t,r);else{if(i==="function")return V(()=>{let l=n();for(;typeof l=="function";)l=l();t=re(e,l,t,r)}),()=>t;if(Array.isArray(n)){const l=[],u=t&&Array.isArray(t);if(fe(l,n,t,s))return V(()=>t=re(e,l,t,r,!0)),()=>t;if(l.length===0){if(t=X(e,t,r),o)return t}else u?t.length===0?ve(e,l,r):Ze(e,t,l):(t&&X(e),ve(e,l));t=l}else if(n.nodeType){if(Array.isArray(t)){if(o)return t=X(e,t,r,n);X(e,t,null,n)}else t==null||t===""||!e.firstChild?e.appendChild(n):e.replaceChild(n,e.firstChild);t=n}}return t}function fe(e,n,t,r){let s=!1;for(let i=0,o=n.length;i<o;i++){let l=n[i],u=t&&t[i],a;if(!(l==null||l===!0||l===!1))if((a=typeof l)=="object"&&l.nodeType)e.push(l);else if(Array.isArray(l))s=fe(e,l,u)||s;else if(a==="function")if(r){for(;typeof l=="function";)l=l();s=fe(e,Array.isArray(l)?l:[l],Array.isArray(u)?u:[u])||s}else e.push(l),s=!0;else{const c=String(l);u&&u.nodeType===3&&u.data===c?e.push(u):e.push(document.createTextNode(c))}}return s}function ve(e,n,t=null){for(let r=0,s=n.length;r<s;r++)e.insertBefore(n[r],t)}function X(e,n,t,r){if(t===void 0)return e.textContent="";const s=r||document.createTextNode("");if(n.length){let i=!1;for(let o=n.length-1;o>=0;o--){const l=n[o];if(s!==l){const u=l.parentNode===e;!i&&!o?u?e.replaceChild(s,l):e.insertBefore(s,t):u&&l.remove()}else i=!0}}else e.insertBefore(s,t);return[s]}const et=window.location.hostname==="localhost"?"/data.json":"https://index.alveol.us/data.json",tt=async()=>(await fetch(et)).json(),de=["contributor","title","content","place","collaborators","home","tags","volume","first_performed"];[...de];function nt(e){switch(e){case"global":return"ðŸ”Ž";case"place":return"ðŸ“";case"contributor":return"ðŸ—£ï¸";case"title":return"ðŸªª";case"content":return"ðŸ“œ";case"collaborators":return"ðŸ«‚";case"home":return"ðŸ ";case"tags":return"ðŸ·ï¸";case"volume":return"ðŸ“š";case"first_performed":return"ðŸ—“ï¸";default:return"ðŸ”Ž"}}function rt(){const[e]=De(tt),[n,t]=I();ee(()=>{!n()&&!e.loading&&t(e())}),ee(()=>{var b,S,E,H;if(!r()){const W=n();if(W!=null&&W.length){s(W[(((b=e())==null?void 0:b.length)||1)-1]),o((((S=e())==null?void 0:S.length)||1)-1);return}const U=e();if(U!=null&&U.length){s(U[(((E=e())==null?void 0:E.length)||1)-1]),o((((H=e())==null?void 0:H.length)||1)-1);return}}});const[r,s]=I(),[i,o]=I(0),[l,u]=I(de),[a,c]=I("global"),[p,d]=I(void 0),[_,g]=I(!1),[y,$]=I(!1),f=()=>{var b;o(S=>Math.max(0,S-1)),s((b=n())==null?void 0:b.find((S,E)=>E===i())),window.scrollTo({top:1})},m=()=>{var b;o(S=>{var E;return Math.min((((E=n())==null?void 0:E.length)||1)-1,S+1)}),s((b=n())==null?void 0:b.find((S,E)=>E===i())),window.scrollTo({top:1})};function w(){console.log("gonna clear query!!!"),d(void 0),u(de),c("global"),t(e())}function x(b){var E;if(console.log("ZOMG searchOnKeys:",l()),l()&&l().length===0){console.log("no propz :/");return}const S=new RegExp(b.replace(/([^a-zA-Z0-9])/g,"\\$1"),"i");return(E=e())==null?void 0:E.reduce((H,W)=>{for(const U of l())if(S.test(W[U])){H.push(W);break}return H},[])}function P(b,S){if(console.log("[projectContext] SEARCH q:",b," keys:",S),!!b){if(!S||!S.length){c("global"),d(b),t(x(b)||[]),$(!0);return}c(S[0]),u(S),d(b),t(x(b)||[]),$(!0)}}function v(){return nt(a())}function L(){return i()<=0}function C(){var b;return i()>=(((b=n())==null?void 0:b.length)||0)-1}return{projects:n,setProjects:t,currentProjectIdx:i,setCurrentProjectIdx:o,project:r,setProject:s,prevProject:f,nextProject:m,query:p,setQuery:d,allProjects:e,clearQuery:w,searchInputFocused:_,setSearchInputFocused:g,searchKeyLabel:a,searchOnKeys:l,search:P,showTOC:y,setShowTOC:$,iconForSearchKeyLabel:v,isFirstProject:L,isLastProject:C}}const Ee=Ke(void 0),st=e=>{const n=rt();return O(Ee.Provider,{value:n,get children(){return e.children}})};function K(){const e=Be(Ee);if(e===void 0)throw new Error("useProject must be used within a ProjectProvider");return e}function je(e){if(!e)return null;switch(Number(e)){case 2011:return"VOL.1";case 2012:return"VOL.2";case 2013:return"VOL.3";case 2014:return"VOL.4";case 2015:return"VOL.5";case 2016:return"VOL.6";case 2017:return"VOL.7";case 2018:return"VOL.8";case 2019:return"VOL.9";case 2020:return"VOL.10";case 2021:return"VOL.11";default:return""}}const lt=k("<div> <span>(<!>)");function it(){const{query:e,iconForSearchKeyLabel:n,projects:t}=K();return(()=>{const r=lt(),s=r.firstChild,i=s.nextSibling,o=i.firstChild,l=o.nextSibling;return l.nextSibling,h(r,O(F,{get when(){return e()},fallback:"all projects",get children(){return[D(()=>n())," ",D(()=>e())]}}),s),h(i,()=>{var u;return(u=t())==null?void 0:u.length},l),V(()=>{var u;return M(i,"title",`browsing ${(u=t())==null?void 0:u.length} projects`)}),r})()}function Ie(e,n){const t=r=>{var s;return!e.contains(r.target)&&((s=n())==null?void 0:s())};document.body.addEventListener("click",t),ge(()=>document.body.removeEventListener("click",t))}var Y=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ot(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ct="Expected a function",_e=0/0,ut="[object Symbol]",at=/^\s+|\s+$/g,ft=/^[-+]0x[0-9a-f]+$/i,dt=/^0b[01]+$/i,ht=/^0o[0-7]+$/i,gt=parseInt,pt=typeof Y=="object"&&Y&&Y.Object===Object&&Y,$t=typeof self=="object"&&self&&self.Object===Object&&self,mt=pt||$t||Function("return this")(),bt=Object.prototype,vt=bt.toString,_t=Math.max,yt=Math.min,ue=function(){return mt.Date.now()};function wt(e,n,t){var r,s,i,o,l,u,a=0,c=!1,p=!1,d=!0;if(typeof e!="function")throw new TypeError(ct);n=ye(n)||0,he(t)&&(c=!!t.leading,p="maxWait"in t,i=p?_t(ye(t.maxWait)||0,n):i,d="trailing"in t?!!t.trailing:d);function _(v){var L=r,C=s;return r=s=void 0,a=v,o=e.apply(C,L),o}function g(v){return a=v,l=setTimeout(f,n),c?_(v):o}function y(v){var L=v-u,C=v-a,b=n-L;return p?yt(b,i-C):b}function $(v){var L=v-u,C=v-a;return u===void 0||L>=n||L<0||p&&C>=i}function f(){var v=ue();if($(v))return m(v);l=setTimeout(f,y(v))}function m(v){return l=void 0,d&&r?_(v):(r=s=void 0,o)}function w(){l!==void 0&&clearTimeout(l),a=0,r=u=s=l=void 0}function x(){return l===void 0?o:m(ue())}function P(){var v=ue(),L=$(v);if(r=arguments,s=this,u=v,L){if(l===void 0)return g(u);if(p)return l=setTimeout(f,n),_(u)}return l===void 0&&(l=setTimeout(f,n)),o}return P.cancel=w,P.flush=x,P}function he(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function xt(e){return!!e&&typeof e=="object"}function St(e){return typeof e=="symbol"||xt(e)&&vt.call(e)==ut}function ye(e){if(typeof e=="number")return e;if(St(e))return _e;if(he(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=he(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=e.replace(at,"");var t=dt.test(e);return t||ht.test(e)?gt(e.slice(2),t?2:8):ft.test(e)?_e:+e}var Ct=wt;const Tt=ot(Ct),Ot=k('<div class=Search><input id=search-input placeholder="Search Emergency INDEX"><div class=results-count><span> <!> </span><button title="clear search">clear'),Pt=k("<span>(<!>)");function kt(){const{projects:e,query:n,setQuery:t,clearQuery:r,setSearchInputFocused:s,search:i,searchKeyLabel:o,iconForSearchKeyLabel:l}=K(),u=Tt(a=>i(a),500);return(()=>{const a=Ot(),c=a.firstChild,p=c.nextSibling,d=p.firstChild,_=d.firstChild,g=_.nextSibling;g.nextSibling;const y=d.nextSibling;return c.addEventListener("blur",()=>{window.setTimeout(()=>{s(!1)},250)}),c.addEventListener("focus",()=>{s(!0)}),c.$$keydown=$=>$.key==="Enter"&&i(n()),c.$$input=$=>{t($.currentTarget.value),console.log("zomg debounce search!"),u($.currentTarget.value)},h(d,()=>{var $;return($=e())==null?void 0:$.length},_),h(d,()=>{var $;return(($=e())==null?void 0:$.length)===1?"project":"projects"},g),h(d,(()=>{const $=D(()=>o()!=="global");return()=>$()&&(()=>{const f=Pt(),m=f.firstChild,w=m.nextSibling;return w.nextSibling,h(f,l,w),V(()=>M(f,"title",o())),f})()})(),null),y.$$click=()=>{r()},V(()=>c.value=n()||""),a})()}Q(["input","keydown","click"]);const At=k("<div class=TOCListWrapper>"),Lt=k("<div class=no-projects>no projects found!"),Et=k("<div class=TOCRow tabindex=0><div class=volume-pages><div></div><div>p.</div></div><div class=overflow><div></div><div>");function jt(){const{projects:e,setProject:n,currentProjectIdx:t,setCurrentProjectIdx:r,showTOC:s,setShowTOC:i}=K();return ee(()=>{if(s()){const o=t(),l=document.querySelector(`[data-idx='${o}']`);l&&l.scrollIntoView({block:"center"})}}),O(F,{get when(){return s()},get children(){const o=At();return Le(Ie,o,()=>()=>i(!1)),h(o,O(kt,{}),null),h(o,O(Ae,{get each(){return e()},get fallback(){return Lt()},children:(l,u)=>(()=>{const a=Et(),c=a.firstChild,p=c.firstChild,d=p.nextSibling;d.firstChild;const _=c.nextSibling,g=_.firstChild,y=g.nextSibling;return a.$$click=()=>{n(l),r(u),i(!1)},h(p,()=>je(l.volume)),h(d,()=>l.pages,null),h(g,()=>l.title),h(y,()=>l.contributor),V($=>{const f=`${t()===u()?"5px solid black":"none"}`,m=`${l.title} -- ${l.contributor}`,w=u();return f!==$._v$&&(($._v$=f)!=null?a.style.setProperty("border-left",f):a.style.removeProperty("border-left")),m!==$._v$2&&M(a,"title",$._v$2=m),w!==$._v$3&&M(a,"data-idx",$._v$3=w),$},{_v$:void 0,_v$2:void 0,_v$3:void 0}),a})()}),null),o}})}Q(["click"]);const It=k("<div class=TOCListWrapper>"),Mt=k('<div class="volume nav-hover"title="show all volumes"tabindex=0>'),Nt=k('<div class="volume-item nav-hover"><span>VOL.<!> </span><span>(<!>)'),Vt=k('<div class="nav-hover prev-project"title="previous project"tabindex=0>âžª'),Dt=k('<div class="nav-hover next-project"title="next project"tabindex=0><span class=next-project-icon>âžª'),Ft=k('<div class=nav-right-container><div class="query nav-hover"title="open table of contents"tabindex=0></div><div class="page nav-hover"title="open table of contents"tabindex=0><div class=TOC>p. '),Kt=k('<div class=nav><div class=title-container><div class=nav-hover tabindex=0 title="start over!"><em class=emINDEX><span>emergency</span>INDEX'),Bt=e=>{const[n,t]=I(!1),{search:r}=K();return O(F,{get when(){return n()},get fallback(){return(()=>{const s=Mt();return s.$$click=()=>t(i=>!i),h(s,()=>e.children),s})()},get children(){const s=It();return Le(Ie,s,()=>()=>t(!1)),h(s,O(Ae,{each:[[1,2011],[2,2012],[3,2013],[4,2014],[5,2015],[6,2016],[7,2017],[8,2018],[9,2019],[10,2020]],children:i=>(()=>{const o=Nt(),l=o.firstChild,u=l.firstChild,a=u.nextSibling;a.nextSibling;const c=l.nextSibling,p=c.firstChild,d=p.nextSibling;return d.nextSibling,o.$$click=()=>r(i[1].toString(),["volume"]),h(l,()=>i[0],a),h(c,()=>i[1],d),o})()})),s}})};function Rt(){const{project:e,prevProject:n,nextProject:t,showTOC:r,setShowTOC:s,isFirstProject:i,isLastProject:o}=K();return[(()=>{const l=Kt(),u=l.firstChild,a=u.firstChild;return a.$$click=()=>window.location.href="/",h(l,O(F,{get when(){return!r()},get children(){const c=Ft(),p=c.firstChild,d=p.nextSibling,_=d.firstChild;return _.firstChild,h(c,O(F,{get when(){return!i()},get children(){const g=Vt();return g.$$click=()=>n(),g}}),p),p.$$click=()=>{s(!0),window.setTimeout(()=>{var g;return(g=document.querySelector("#search-input"))==null?void 0:g.focus()},100)},h(p,O(it,{})),h(c,O(Bt,{get children(){var g;return je((g=e())==null?void 0:g.volume)}}),d),d.$$click=()=>s(!0),h(_,()=>{var g;return(g=e())==null?void 0:g.pages},null),h(c,O(F,{get when(){return!o()},get children(){const g=Dt();return g.$$click=()=>t(),g}}),null),c}}),null),l})(),O(jt,{})]}Q(["click"]);const Wt=k('<div class=Meta><img class=project-img alt=project><div class="photo-credit truncate"></div><h5 class=title><strong></strong></h5><p><span class="first_performed hotlink"title="see all projects first performed on this day"tabindex=0></span><span class="place hotlink"tabindex=0></span><span class="times_performed hotlink"tabindex=0></span></p><h6 class="contributor hotlink"tabindex=0></h6><p class=project-collaborators></p><p class="home hotlink"tabindex=0></p><div><div class=contact>'),qt=k("<span><span class=hotlink tabindex=0>"),Ut=k("<div class=links>"),Xt=k('<span><a target=_blank rel="noopener noreferrer"class=link></a><br>');function Gt(){const{project:e,search:n}=K();return O(F,{get when(){return e()},children:t=>(()=>{const r=Wt(),s=r.firstChild,i=s.nextSibling,o=i.nextSibling,l=o.firstChild,u=o.nextSibling,a=u.firstChild,c=a.nextSibling,p=c.nextSibling,d=u.nextSibling,_=d.nextSibling,g=_.nextSibling,y=g.nextSibling,$=y.firstChild;return h(i,()=>{var f;return`${(f=t().photo_credit)==null?void 0:f.replace("Photo credit: ","")}`}),h(l,()=>t().title),a.$$click=()=>{var f,m;return n((m=t().first_performed)==null?void 0:m.replace("first performed on ","").replace(((f=t().volume)==null?void 0:f.toString())||"","").split(",")[0],["first_performed"])},h(a,()=>{var f;return((f=t().volume)==null?void 0:f.toString())==="2011"&&"first performed on "},null),h(a,()=>t().first_performed,null),c.$$click=f=>{f.preventDefault(),f.stopPropagation(),n(t().place,["place"])},h(c,()=>t().place),p.$$click=f=>{var m;f.preventDefault(),f.stopPropagation(),n((m=t().volume)==null?void 0:m.toString(),["volume"])},h(p,()=>t().times_performed),d.$$click=f=>{f.preventDefault(),f.stopPropagation(),n(t().contributor,["contributor"])},h(d,()=>t().contributor),h(_,()=>{var f;return(f=t().collaborators)==null?void 0:f.map((m,w)=>(()=>{const x=qt(),P=x.firstChild;return P.$$click=v=>{v.preventDefault(),v.stopPropagation(),n(m,["collaborators"])},M(P,"title",`see all projects for collaborators: ${m}`),h(P,m),h(x,()=>{var v;return w<(((v=t().collaborators)==null?void 0:v.length)||0)-1&&", "},null),x})())}),g.$$click=f=>{f.preventDefault(),f.stopPropagation(),n(t().home,["home"])},h(g,()=>t().home),h($,()=>t().contact),h(y,(()=>{const f=D(()=>!!t().links);return()=>f()&&(()=>{const m=Ut();return h(m,()=>{var w;return(w=t().links)==null?void 0:w.map(x=>{const P=x.match("http://")||x.match("https://")?x:`http://${x}`;return(()=>{const v=Xt(),L=v.firstChild;return M(L,"href",P),h(L,P),v})()})}),m})()})(),null),h(r,()=>t().footnote,null),V(f=>{var C;const m=`https://index.alveol.us/assets/img/${t().volume}/${t().image}`,w=`photo: ${(C=t().photo_credit)==null?void 0:C.replace("Photo credit: ","")}`,x=`see all projects for place: ${t().place}`,P=`see all projects from volume ${t().volume}`,v=`see all projects for contributor: ${t().contributor}`,L=`see all projects for home: ${t().home}`;return m!==f._v$&&M(s,"src",f._v$=m),w!==f._v$2&&M(s,"data-caption",f._v$2=w),x!==f._v$3&&M(c,"title",f._v$3=x),P!==f._v$4&&M(p,"title",f._v$4=P),v!==f._v$5&&M(d,"title",f._v$5=v),L!==f._v$6&&M(g,"title",f._v$6=L),f},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),r})()})}Q(["click"]);const Ht=k("<div class=Description><h5 class=title><strong></strong></h5><h6 class=contributor></h6><div class=content>");function Qt(){const{project:e}=K();return O(F,{get when(){return e()},children:n=>(()=>{const t=Ht(),r=t.firstChild,s=r.firstChild,i=r.nextSibling,o=i.nextSibling;return h(s,()=>n().title),h(i,()=>n().contributor),V(()=>o.innerHTML=n().content),t})()})}const Yt=k("<div class=Tags>"),Zt=k("<ul>"),Jt=k('<li><a class="hotlink chip"href=#>');function zt(){const{project:e,search:n}=K();return O(F,{get when(){return e()},children:t=>(()=>{const r=Yt();return h(r,(()=>{const s=D(()=>!!t().tags);return()=>s()&&(()=>{const i=Zt();return h(i,()=>{var o;return(o=t().tags)==null?void 0:o.map(l=>(()=>{const u=Jt(),a=u.firstChild;return a.$$click=c=>{c.preventDefault(),c.stopPropagation(),n(l,["tags"])},M(a,"data-tag",l),M(a,"title",`search all projects tagged with: ${l}`),h(a,l),u})())}),i})()})()),r})()})}Q(["click"]);const en=k("<article class=Project><div class=flex><header></header><section></section></div><footer>");function tn(){const{showTOC:e}=K();return(()=>{const n=en(),t=n.firstChild,r=t.firstChild,s=r.nextSibling,i=t.nextSibling;return h(r,O(Gt,{})),h(s,O(Qt,{})),h(i,O(zt,{})),V(o=>{const l=e()?"TOC-margin":"",u=e()?"TOC-margin":"";return l!==o._v$&&be(s,o._v$=l),u!==o._v$2&&be(i,o._v$2=u),o},{_v$:void 0,_v$2:void 0}),n})()}const nn=k("<div>L O A D I N G . . .");function rn(){const{allProjects:e,prevProject:n,nextProject:t,searchInputFocused:r}=K();return Fe(()=>{let s=window.innerWidth||document.body.clientWidth,i=Math.max(1,Math.floor(.01*s)),o=0,l=0,u=0,a=0;const c=Math.tan(45*1.5/180*Math.PI);function p(){let y=u-o,$=a-l,f=Math.abs(y/$),m=Math.abs($/y);if(Math.abs(y)>i||Math.abs($)>i){if(f<=c)if($<0){console.log("top");return}else{console.log("bottom");return}m<=c&&(y<0?(console.log("left"),t()):(console.log("right"),n()))}else console.log("tap")}const d=y=>{o=y.changedTouches[0].screenX,l=y.changedTouches[0].screenY},_=y=>{u=y.changedTouches[0].screenX,a=y.changedTouches[0].screenY,p()};document.addEventListener("touchstart",d,!1),document.addEventListener("touchend",_,!1);const g=y=>{if(!r())switch(y.key){case"ArrowLeft":n();break;case"ArrowRight":t();break}};document.addEventListener("keydown",g),ge(()=>{document.removeEventListener("touchend",_),document.removeEventListener("touchstart",d),document.removeEventListener("keydown",g)})}),O(F,{get when(){return!e.loading},get fallback(){return nn()},get children(){return[O(tn,{}),O(Rt,{})]}})}function sn(){return O(st,{get children(){return O(rn,{})}})}const ln=document.getElementById("root");Je(()=>O(sn,{}),ln);
